{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nconst input = document.querySelector('input');\nconst textarea = document.querySelector('textarea');\nform.addEventListener('submit', onFormSubmit);\nform.addEventListener('input', onTextField);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  if (input.value !== '' && textarea.value !== '') {\n    localStorage.removeItem(STORAGE_KEY);\n    console.log({ email: input.value, message: textarea.value });\n    event.currentTarget.reset();\n  }\n}\n\nfunction onTextField(event) {\n  const savedFieldItem = localStorage.getItem(STORAGE_KEY);\n  const parsedFieldItem = JSON.parse(savedFieldItem);\n  const formFieldItems = {\n    input: parsedFieldItem?.input,\n    textarea: parsedFieldItem?.textarea,\n  };\n  if (event.target.tagName === 'INPUT') {\n    const inputValue = event.target.value.trim();\n    formFieldItems.input = inputValue;\n  } else if (event.target.tagName === 'TEXTAREA') {\n    const textareaValue = event.target.value.trim();\n    formFieldItems.textarea = textareaValue;\n  }\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formFieldItems));\n}\n\nconst storedData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\nconst savedInput = storedData?.input ? storedData.input : '';\nconst savedTextarea = storedData?.textarea ? storedData.textarea : '';\n\ninput.value = savedInput;\ntextarea.value = savedTextarea;\n"],"names":["STORAGE_KEY","form","input","textarea","onFormSubmit","onTextField","event","savedFieldItem","parsedFieldItem","formFieldItems","inputValue","textareaValue","storedData","savedInput","savedTextarea"],"mappings":"oCAEA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAW,SAAS,cAAc,UAAU,EAClDF,EAAK,iBAAiB,SAAUG,CAAY,EAC5CH,EAAK,iBAAiB,QAASI,CAAW,EAE1C,SAASD,EAAaE,EAAO,CAC3BA,EAAM,eAAc,EAChBJ,EAAM,QAAU,IAAMC,EAAS,QAAU,KAC3C,aAAa,WAAWH,CAAW,EACnC,QAAQ,IAAI,CAAE,MAAOE,EAAM,MAAO,QAASC,EAAS,KAAK,CAAE,EAC3DG,EAAM,cAAc,QAExB,CAEA,SAASD,EAAYC,EAAO,CAC1B,MAAMC,EAAiB,aAAa,QAAQP,CAAW,EACjDQ,EAAkB,KAAK,MAAMD,CAAc,EAC3CE,EAAiB,CACrB,MAAOD,GAAA,YAAAA,EAAiB,MACxB,SAAUA,GAAA,YAAAA,EAAiB,QAC/B,EACE,GAAIF,EAAM,OAAO,UAAY,QAAS,CACpC,MAAMI,EAAaJ,EAAM,OAAO,MAAM,KAAI,EAC1CG,EAAe,MAAQC,CACxB,SAAUJ,EAAM,OAAO,UAAY,WAAY,CAC9C,MAAMK,EAAgBL,EAAM,OAAO,MAAM,KAAI,EAC7CG,EAAe,SAAWE,CAC3B,CACD,aAAa,QAAQX,EAAa,KAAK,UAAUS,CAAc,CAAC,CAClE,CAEA,MAAMG,EAAa,KAAK,MAAM,aAAa,QAAQZ,CAAW,CAAC,EAEzDa,EAAaD,GAAA,MAAAA,EAAY,MAAQA,EAAW,MAAQ,GACpDE,EAAgBF,GAAA,MAAAA,EAAY,SAAWA,EAAW,SAAW,GAEnEV,EAAM,MAAQW,EACdV,EAAS,MAAQW"}